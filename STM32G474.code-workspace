{
    "folders": [
        {
            "name": "app",
            "path": "./app"
        },
        {
            "name": "custom-G474",
            "path": "./boards/custom-G474"
        }
    ],
    "settings": {
        "cmake.preferredGenerators": ["Ninja"],
        "cmake.configureOnOpen": false,
        "cmake.autoSelectActiveFolder": true,
        "cmake.buildTask": true,
        "cmake.automaticReconfigure": false,
        "files.exclude": {
            "**/build": true,
            "**/cmake-build-*": true,
            "**/Drivers": true,
            "**/Middlewares": true,
            "**/.git": true,
            "**/.DS_Store": true
        },
        "search.exclude": {
            "**/build": true,
            "**/cmake-build-*": true,
            "**/Drivers": true,
            "**/Middlewares": true
        }
    },
    "tasks": {
        "version": "2.0.0",
        "tasks": [
            {
                "label": "Build All Projects",
                "type": "shell",
                "command": "echo",
                "args": ["Building all projects..."],
                "group": {
                    "kind": "build",
                    "isDefault": true
                },
                "dependsOn": [
                    "app: Build app",
                    "custom-G474: Build STM32G474"
                ],
                "dependsOrder": "parallel",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": []
            },
            {
                "label": "app: Build app",
                "type": "shell",
                "command": "C:/ST/STM32CubeCLT_1.18.0/CMake/bin/cmake.exe",
                "args": [
                    "--build", "${workspaceFolder}/app/build",
                    "--target", "app",
                    "-j", "10"
                ],
                "group": "individual-build",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": ["$gcc"],
                "options": {
                    "cwd": "${workspaceFolder}/app"
                }
            },
            {
                "label": "custom-G474: Build STM32G474",
                "type": "shell",
                "command": "C:/ST/STM32CubeCLT_1.18.0/CMake/bin/cmake.exe",
                "args": [
                    "--build", "${workspaceFolder}/boards/custom-G474/cmake-build-debug",
                    "--target", "STM32G474",
                    "-j", "10"
                ],
                "group": "individual-build",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": ["$gcc"],
                "options": {
                    "cwd": "${workspaceFolder}/boards/custom-G474"
                }
            },
            {
                "label": "Configure All Projects",
                "type": "shell",
                "command": "echo",
                "args": ["Configuring all projects..."],
                "group": "build",
                "dependsOn": [
                    "app: Configure CMake",
                    "custom-G474: Configure CMake"
                ],
                "dependsOrder": "parallel",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": []
            },
            {
                "label": "app: Configure CMake",
                "type": "shell",
                "command": "C:/ST/STM32CubeCLT_1.18.0/CMake/bin/cmake.exe",
                "args": [
                    "-B", "${workspaceFolder}/app/build",
                    "-G", "Ninja",
                    "-DCMAKE_BUILD_TYPE=Debug",
                    "-DCMAKE_MAKE_PROGRAM=C:/ST/STM32CubeCLT_1.18.0/Ninja/bin/ninja.exe"
                ],
                "group": "individual-build",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": [],
                "options": {
                    "cwd": "${workspaceFolder}/app"
                }
            },
            {
                "label": "custom-G474: Configure CMake",
                "type": "shell",
                "command": "C:/ST/STM32CubeCLT_1.18.0/CMake/bin/cmake.exe",
                "args": [
                    "-B", "${workspaceFolder}/boards/custom-G474/cmake-build-debug",
                    "-G", "Ninja",
                    "-DCMAKE_BUILD_TYPE=Debug",
                    "-DCMAKE_MAKE_PROGRAM=C:/ST/STM32CubeCLT_1.18.0/Ninja/bin/ninja.exe",
                    "-DCMAKE_C_COMPILER=C:/ST/STM32CubeCLT_1.18.0/GNU-tools-for-STM32/bin/arm-none-eabi-gcc.exe",
                    "-DCMAKE_CXX_COMPILER=C:/ST/STM32CubeCLT_1.18.0/GNU-tools-for-STM32/bin/arm-none-eabi-g++.exe",
                    "-DBOARD=custom-G474"
                ],
                "group": "individual-build",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": [],
                "options": {
                    "cwd": "${workspaceFolder}/boards/custom-G474"
                }
            },
            {
                "label": "Clean All Projects",
                "type": "shell",
                "command": "echo",
                "args": ["Cleaning all projects..."],
                "group": "build",
                "dependsOn": [
                    "app: Clean Build",
                    "custom-G474: Clean Build"
                ],
                "dependsOrder": "parallel",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": []
            },
            {
                "label": "app: Clean Build",
                "type": "shell",
                "command": "C:/ST/STM32CubeCLT_1.18.0/CMake/bin/cmake.exe",
                "args": [
                    "--build", "${workspaceFolder}/app/build",
                    "--target", "clean"
                ],
                "group": "individual-build",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": [],
                "options": {
                    "cwd": "${workspaceFolder}/app"
                }
            },
            {
                "label": "custom-G474: Clean Build",
                "type": "shell",
                "command": "C:/ST/STM32CubeCLT_1.18.0/CMake/bin/cmake.exe",
                "args": [
                    "--build", "${workspaceFolder}/boards/custom-G474/cmake-build-debug",
                    "--target", "clean"
                ],
                "group": "individual-build",
                "presentation": {
                    "echo": true,
                    "reveal": "always",
                    "focus": false,
                    "panel": "shared",
                    "showReuseMessage": false,
                    "clear": false
                },
                "problemMatcher": [],
                "options": {
                    "cwd": "${workspaceFolder}/boards/custom-G474"
                }
            }
        ]
    },
    "extensions": {
        "recommendations": [
            "ms-vscode.cpptools",
            "ms-vscode.cmake-tools",
            "twxs.cmake",
            "marus25.cortex-debug"
        ]
    }
}